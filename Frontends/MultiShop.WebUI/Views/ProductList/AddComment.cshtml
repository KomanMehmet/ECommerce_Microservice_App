<div class="col-md-6">
    <h4 class="mb-4">Bir Yorum Yapın</h4>
    <small>Yorumunuzun alınması için geçerli bir email adresi giriniz. *</small>
    
    <form method="post" asp-action="AddComment" asp-controller="ProductList">
        <div class="d-flex my-3">
            <p class="mb-0 mr-2">Ürün puanınız * :</p>
            <div class="text-primary" id="starRating">
                @for (int i = 1; i <= 5; i++)
                {
                    <i class="far fa-star star" data-value="@i" style="cursor:pointer;"></i>
                }
            </div>
            <input type="hidden" name="Rating" id="ratingValue" value="0" />
        </div>

        <div class="form-group">
            <label for="name">Adınız Soyadınız *</label>
            <input type="text" class="form-control" id="name" name="NameSurname" required>
        </div>
        <div class="form-group">
            <label for="email">Email Adresiniz *</label>
            <input type="email" class="form-control" id="email" name="Email" required>
        </div>
        <div class="form-group">
            <label for="message">Yorumunuz *</label>
            <textarea id="message" name="CommentDetail" cols="30" rows="5" class="form-control" required></textarea>
        </div>
        <div class="form-group mb-0">
            <input type="submit" value="Yorum Yap" class="btn btn-primary px-3">
        </div>
    </form>
</div>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        const stars = document.querySelectorAll('.star');
        const ratingInput = document.getElementById('ratingValue');

        stars.forEach(star => {
            star.addEventListener('click', () => {
                const value = parseInt(star.getAttribute('data-value'));
                ratingInput.value = value;

                stars.forEach((s, index) => {
                    if(index < value) {
                        s.classList.add('fas');
                        s.classList.remove('far');
                    } else {
                        s.classList.add('far');
                        s.classList.remove('fas');
                    }
                });
            });
        });

        document.querySelector('form').addEventListener('submit', function() {
            console.log('Submit edilen Rating:', ratingInput.value);
        });
    });
</script>
